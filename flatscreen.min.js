function runFlatscreen(e,n,a){function s(e){for(var n in e)if(e.hasOwnProperty(n))return!1;return!0}function i(e){for(var n=e.length-1;n>=0;n--)target=document.getElementById(e[n]),target.parentNode.removeChild(target)}function t(e,n){var a=y.concat(e,"YouTube ID: "+n);_gaq.push(a)}function c(e,n){-1===n?t("unstarted",e):0===n?t("ended",e):1===n?t("playing",e):2===n?t("paused",e):3===n?t("buffering",e):5===n&&t("video cued",e)}function l(){var e="";if(document.getElementsByClassName)e=document.getElementsByClassName("flatscreen");else if(document.querySelectorAll)e=document.querySelectorAll(".flatscreen");else for(var e=[],n="flatscreen",i=document.getElementsByTagName("*"),t=new RegExp("(^|\\s)"+n+"(\\s|$)"),c=i.length-1;c>=0;c--)t.test(i[c].className)&&e.push(i[c]);if(0==e||void 0===e||null===e)return!1;for(var c=e.length-1;c>=0;c--){var l=e[c].id,d='<div id="'+l+'-wrapper" class="flatscreen-wrapper"></div>';if(void 0===a||" "==a||null===a||1==s(a))var o='<div title="Click to play" class="invisible-button" id="'+l+'-invisible-button"><img src="//i1.ytimg.com/vi/'+l+'/maxresdefault.jpg" /></div>',p='<div class="loading-screen" id="'+l+'-loading"><div class="loading-spinner" id="'+l+'-spinner"><span class="circles"></span><span class="circles"></span><span class="circles"></span><span class="circles"></span><span class="circles"></span><span class="circles"></span><span class="circles"></span><span class="circles"></span></div><img src="//i1.ytimg.com/vi/'+l+'/maxresdefault.jpg" /></div>';else var o='<div title="Click to play" class="invisible-button" id="'+l+'-invisible-button"><img src="'+a+"/"+l+'.jpg" /></div>',p='<div class="loading-screen" id="'+l+'-loading"><div class="loading-spinner" id="'+l+'-spinner"><span class="circles"></span><span class="circles"></span><span class="circles"></span><span class="circles"></span><span class="circles"></span><span class="circles"></span><span class="circles"></span><span class="circles"></span></div><img src="'+a+"/"+l+'.jpg" /></div>';r(l,d,o,p)}}function r(e,a,s,i){document.getElementById(e).innerHTML=a+s+i;var c=document.getElementById(e+"-invisible-button");c.addEventListener?c.addEventListener("click",function(){d(e)}):c.attachEvent&&c.attachEvent("onclick",function(){d(e)}),n===!0&&t("ready for playback",e)}function d(e){n===!0&&t("thumbnail triggered",e),removeables=[e+"-invisible-button"],i(removeables),document.getElementById(e+"-loading").style.display="block",o(e)}function o(n){v=new YT.Player(n+"-wrapper",{height:"100%",width:"100%",videoId:n,playerVars:e,events:{onReady:p,onStateChange:u}})}function p(e){var a=e.target.a.id.match("(.{11})(?:-wrapper)")[1],s=[a+"-loading"];i(s),n===!0&&c(a,e.data)}function u(e){if(n===!0){var a=e.target.a.id.match("(.{11})(?:-wrapper)")[1];c(a,e.data)}}var v,m=document.createElement("script"),g=document.getElementsByTagName("script")[0],f=document.createElement("div"),y=["_trackEvent","Videos"];if(f.className="loading-screen",m.src="https://www.youtube.com/iframe_api",void 0===e||" "==e||null===e||1==s(e))var e={autohide:1,color:"white",controls:1,disablekb:0,modestbranding:0,showinfo:0,theme:"light"};if(e.wmode="transparent",e.autoplay=1,e.rel=0,g.parentNode.insertBefore(m,g),n===!0&&"undefined"==typeof _gaq)var n=!1;l()}